// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Test, console} from "forge-std/Test.sol";
import { ClaimNFT } from "../src/ClaimNFT.sol";

contract ClaimNFTTest is Test {
    ClaimNFT private claimer;

    function setUp() public {
        // Deploy NFT contract
      claimer = new ClaimNFT();
    }

    function test_claimValidBlock() public {
      bytes memory blockHeader = hex"f90211a0d4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d493479405a56e2d52c817161883f50c441c3228cfe54d9fa0d67e4d450343046425ae4271474353857ab860dbc0a1dde64b41b5cd3a532bf3a056e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421a056e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421b90100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008503ff80000001821388808455ba422499476574682f76312e302e302f6c696e75782f676f312e342e32a0969b900de27b6ac6a67742365dd65f55a0526c41fd18e1b16f1a1215c2e66f5988539bd4979fef1ec4";

      bytes[] memory l3StateProof = new bytes[](6);
      l3StateProof[0] = hex"f90211a04b6aff853f9e6a015299dd6eac5463743ded94bf4abddf5553e73ce1b7113d15a09359d5f8ca903465ce4b77c600d5182e824939070344fbd1cafda9ba4622774ca0aa326801c7e39ada38815406457d25ac5159842a39cf0e53e4d7fed103de7f2da08585c0e12661ed77f608add20f426c41d043857bfd1cd783f23fad7e0675302ca09e410f988cfcc457a8bacab0ccab9ba4273db92d3ac0ea8ae441bfd8da509089a06738ddbc34dc091ed1aa935ba2bda4df496c0a482b9c3093a0bbaec85cc458d6a0d22b26f2638ef96a696a3bb6d0c3a67be7b8b1c4bbe50e08c21a1881b0b9d06da067ced8a38120e4d50c8a2c31bb178f77250a883711a76dc9e51c6f96a82fc9b2a0e52a8937196d6187dbc588e3950ba47f11250115aa77ff1d44af4bc2bf8c4f60a0c19d2723e4030f12065460da7b83af4176d4962b12e95386dd9f8bcf22b18946a0e2cef749f843d7fc2521769efed531b0adb0add35f0213714672d9fb51d4a66da098452a01b8d79bbffb9f2ad789d4f4d7b7c1c19b729d05a5b4e6ed8bcfe0a3efa033427cc6c5973d559e35a9b65d9e768847d23d23335171a23eef809ae83d5ed8a003430fbb8772f2a2e7e0eaca428d120dc4c0416d76c2f5f63b47c40f84ee223ca0226f2607000c95084467a203392743d3457038c47c069ad692a52bfac955de33a010d674a1448cc58833ba60cce6b2b7725f8be64bd2e86dee12aaef4bda200af880";
      l3StateProof[1] = hex"f90211a08f2a07d81c0765ea86523d8c2750cdd4fe2a557a5253e8303340183633583774a0b938d9504b72133de0728a0c782c4eb4c49c9da69e93cd2ed34c74e2a23138e4a0095df448f43a0b080ec4bcb91ef9f69d637fc668b9e08e4ef49a075a966a9b0ca0f4d848be5c9a892be58e5cb5acd78db80dd2de976b0a5d88bc5e20e9d88e928da01cd0a8be2a0aa45f3eef5b99c3ca5791cbe0bc245ac4c65e7b6150e37e9af559a025b9c0515b8dbee98f650c8f22658c1d20976de146b9b9d169945269bce00303a024bb54cf7711b531dca4b1a1324d8ef3821270dec3f97b76d8badf902e98e0bea08681c747d429a51ca58dc0c64f3f7004009847db6f50fdd4d42edab86c64e281a0dd42831b64f203870f2ad7e907513197da07c6958fdbb75e8769a3d19f71c894a0712576926f1cffb4296d8b94605f8020b3e48dd9830e1844976194de6cc2870aa0a49c2554fc7ac3e134403c5f7f1eee7ad736f4b1f50fc5b16581d960f3a194caa0cf93c77653091475f44b2eafd5030cc7acedba53f92a78bf78f82efd20e00268a03434bd261ddddd99a659ffafe722473b1e757e6fcfdc9248b2bef867049e9385a08dbbda68bb719272102ec6cc027c6d3ce216008709a55068e472933f27de701ca0de6e31cdca18394f2f9338ccdb64cdbf0464b79941c585604bc1ef5023fb2fa3a0896579fcb94599477fd532f7c249d6f2573ecc526d05a7b0c8e0833330136b6380";
      l3StateProof[2] = hex"f90211a0d20506a84a28b48f12198fb22a27e5d74b84439895407e15cb77d0b9ddcb368ca0c9206a209e7e7322f395f62796cc883cb1c66b606b4c5330287a0602f6075886a07e0d3ef7208e0657f23e653b2189510427707c734cb7f2cf86d03c866fd329b4a093eaa7144775447f7bb2406e058eae6d858c24739969f2298749d714fb4e05a2a05721ca180d4a295ac4f2121846f0076d545b6c8f1c03aa252f50a7b6e157206fa07fe2dd866f4220dfda527e3f58ff6c9ba02bec555307e6e39333526bc2db7981a0a84945888ee2a0a3b1e69d3f9777785e812c2365dfe9c52ec841a5724076440da069d3b5a753eebd07e1b8cb722f09cab9f6362a027fab1cba98ac673ad25e1905a02404d87ae321454f036b335d12040c2ae28770353686e0ab109beefcd5dc0fc0a0332fb2bcafdc64d17325e4c27e05ec228724dfe8a3be47d2e6dbd323b9ba5f71a0ae0c43ccd13e75a7c5cbdaf36a513cbce49ceb05b7a9b552a5d4d7bd8fbe5e51a0797b55f91e8388e0ec1e18f736e404f61e19432a67e9434056c51057f466ff4ba00ac7da8f33400f78942ac853328c87fe41c7187908f775e0955dc94d772304b6a0e97749c8918c7df18f920de39d8662444566b7daf99080b16127d60c7246772aa0d031d72f2078d37fc17ffa7ad8b8537ce37abcd922f4060f7f8d3f4c9a2c7ad5a0c8095632f0b3db0bd694a9f0b6b5dc27e1151121c96f7307d13c114ebcac62d180";
      l3StateProof[3] = hex"f901f1a0c5a63b0daa8ca127996bbe47f38a57702e71ce70ee182cd1db7713ab18c267e4a052ba697b811727fe0cf983e618910791617703574ba68c5337110000556230cfa0ddd53ee5a9515800f52bac16db0ce1aa79f3cff853a0a9ca185863bddb1c7a97a0ebca1ed22993295fa1f603b5286264343ae235cdae22cff0e2aee2658a9dc330a020448a00b8dcc2f59f9bc1a1439297a04c81627b58cebb6576abf14aae9540a9a0b58bbfed37650e34e0f459f42bc246047b1e0700a39ed73c7b105607a6018e11a04d69919575d9e51176d94d37fd1b9c5c91ed2a8181f97bef72a04ebc444dc43da00822123f157a6ef4a695352d739ca1a2854ecbd7c85b3fa3d323de5c1d6f8c03a0a374d11a1bcdf11eb20e5121c9755b4e6d3ae532ee4e2fe4e619a918219a1366a0659182afab23e17f34b493ab15a7fe442f0a2d1b5e74c63fce8a1552432d2940a00626791eb41caf184d710ba82a21ef14b931059c297b4959e921dc73419692dda09e27856246b213221d46a16101177d3aa0db42fb93f934a46f2f21cdc19b86f2a0fcb788238915c6b64e1d230188ea1364343870600ad8c6f7889ceac81e840590a0de40c15d1bdb72dbe31d97a7a8c5a034b88e747f642f72e886538ae602bf5ba980a00ba6ab25aeb8622f29a65d1251b01999439e162f276003849f55ab1bf4c0d9cb80";
      l3StateProof[4] = hex"f8518080808080a0d201e3e8a960f55baecc9f962478a2464be49a7a7508526fffa5260509dc0abea07e556763c02e531cc97eb9a65d958ee6b1b3ba72eca040ca0c5d739574127d1880808080808080808080";
      l3StateProof[5] = hex"f8679e3d1b398c779cc5e75ffdbf23878c6d06af318c311ed7a4f138a8d85228d1b846f8440180a02613f77fc3cb8b707553265592487e4aa07e715c48662ce3682ee7e00f6182a4a0b3840508729c1f9f3a8cc50dfa2942f7666519c488ce3b49b5df997bde05b293";


      bytes[] memory historyProverStorageProof = new bytes[](2);
      historyProverStorageProof[0] = hex"f87180a01c97dc2a504720b178448057e777b2f71512ce5cae18d5f8b601e3ccb88e72e480a01236ce6259c8f5d1f7f591e22bb70bc09290e73fd987f9513962bf34749f29b18080808080808080808080a0e494b6d89d0469da1e6bf4648a5a5a904a3a710f5265b893640a7e453a954f5680";
      historyProverStorageProof[1] = hex"f843a03f9553dc324cd1fd24b54243720c42e18e5c20165bc5e523e42b440a8654abd1a1a088e96d4537bea4d9c05d12549907b32561d3bf31f45aae734cdc119f13406cb6";

      claimer.claim(
        blockHeader,
        l3StateProof,
        historyProverStorageProof
      );
    }
}
